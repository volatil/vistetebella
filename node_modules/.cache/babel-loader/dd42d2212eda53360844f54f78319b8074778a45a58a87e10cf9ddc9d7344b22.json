{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elPaulo\\\\Proyectos\\\\vistetebella\\\\src\\\\pages\\\\Detalle\\\\Detalle.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { Helmet } from \"react-helmet\";\nimport { DB, NOMBRETIENDA } from \"../../assets/js/CONST\";\nimport Loading from \"../../components/Loading/Loading\";\nimport \"./Detalle.css\";\nimport { armonizarURL, precioMeli } from \"../../Helpers/Helpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Detalle() {\n  _s();\n  const [detalle, setDetalle] = useState(null);\n  const id = useLocation().pathname.split(\"/\")[2];\n  armonizarURL();\n  useEffect(() => {\n    fetch(DB).then(x => x.json()).then(x => {\n      const resumen = x.values[id];\n      const todo = [];\n      if (typeof resumen === \"undefined\") {\n        window.location.href = \"/\";\n      }\n\n      /*\r\n      ${p.nombre}\r\n      ${p.precio}\r\n      ${p.entrega}\r\n      ${p.imagenes()}\r\n      ${p.descripcion()}\r\n      ${p.tallas()}\r\n      ${p.url}\r\n      ${p.valoracion}\r\n      ${p.categoria}\r\n      ${p.comentario.cantidad()}\r\n      ${p.comentario.comentarios()}\r\n      */\n\n      const p = {\n        id: resumen[0],\n        nombre: resumen[1].replaceAll(\"SHEIN \", \"\"),\n        precio: () => {\n          // return precioMeli( resumen[2] );\n          return Number(resumen[2]).toLocaleString(\"es-CL\");\n        },\n        fechaentrega: resumen[3],\n        imagen: {\n          principal: resumen[4].split(\",//\")[0],\n          todas: () => {\n            const arrtodas = [];\n            const todas = resumen[4].replaceAll(\"//\", \"\");\n            console.debug(resumen[4]);\n            for (let count = 0; count <= todas.split(\",//\").length - 2; count++) {\n              // imagen.split(\"_thumbnail\")[0].split(\"/\")[imagen.split(\"_thumbnail\")[0].split(\"/\").length - 1]\n              const laimagen = todas.split(\",//\")[count];\n              const elid = laimagen.split(\"_thumbnail\")[0].split(\"/\")[laimagen.split(\"_thumbnail\")[0].split(\"/\").length - 1];\n              arrtodas.push({\n                laid: elid,\n                imagen: laimagen\n              });\n            }\n            return arrtodas;\n          }\n        }\n      };\n      todo.push({\n        id: p.id,\n        nombre: p.nombre,\n        precio: p.precio(),\n        fechaentrega: p.fechaentrega,\n        imagenprincipal: p.imagen.principal,\n        imagenes: p.imagen.todas()\n      });\n      setDetalle(todo);\n    });\n  }, [id]);\n  if (detalle) {\n    var _res$imagenes;\n    const res = detalle[0];\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Helmet, {\n        children: [/*#__PURE__*/_jsxDEV(\"title\", {\n          children: [res.nombre, \" || \", NOMBRETIENDA]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          property: \"og:image\",\n          content: res.imagenprincipal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          property: \"twitter:image\",\n          content: res.imagenprincipal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"detalle\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: res.nombre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: res.imagenprincipal,\n          alt: res.nombre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"precio\",\n          children: [\"$ \", res.precio]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: res.fechaentrega\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this), console.debug(res.imagenes), (_res$imagenes = res.imagenes) === null || _res$imagenes === void 0 ? void 0 : _res$imagenes.map(_ref => {\n          let {\n            laid,\n            imagen\n          } = _ref;\n          console.debug(`laid: ${laid}`);\n          console.debug(`laimagen: ${imagen}`);\n          // const elid = res.imagenes[id];\n          // console.debug(`elid: ${elid}`);\n          return /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imagen,\n            alt: \"nada\"\n          }, laid, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this);\n        })]\n      }, res.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 10\n  }, this);\n}\n_s(Detalle, \"d1br60mmdwz9hM5BFlBFjAKDpNY=\", false, function () {\n  return [useLocation];\n});\n_c = Detalle;\nexport default Detalle;\nvar _c;\n$RefreshReg$(_c, \"Detalle\");","map":{"version":3,"names":["useEffect","useState","useLocation","Helmet","DB","NOMBRETIENDA","Loading","armonizarURL","precioMeli","Detalle","detalle","setDetalle","id","pathname","split","fetch","then","x","json","resumen","values","todo","window","location","href","p","nombre","replaceAll","precio","Number","toLocaleString","fechaentrega","imagen","principal","todas","arrtodas","console","debug","count","length","laimagen","elid","push","laid","imagenprincipal","imagenes","res","map"],"sources":["C:/Users/elPaulo/Proyectos/vistetebella/src/pages/Detalle/Detalle.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nimport { DB, NOMBRETIENDA } from \"../../assets/js/CONST\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\n\r\nimport \"./Detalle.css\";\r\n\r\nimport { armonizarURL, precioMeli } from \"../../Helpers/Helpers\";\r\n\r\nfunction Detalle() {\r\n\tconst [detalle, setDetalle] = useState(null);\r\n\tconst id = useLocation().pathname.split(\"/\")[2];\r\n\r\n\tarmonizarURL();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch( DB ).then( (x) => x.json() ).then( (x) => {\r\n\t\t\tconst resumen = x.values[id];\r\n\t\t\tconst todo = [];\r\n\r\n\t\t\tif ( typeof resumen === \"undefined\" ) {\r\n\t\t\t\twindow.location.href = \"/\";\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t${p.nombre}\r\n\t\t\t${p.precio}\r\n\t\t\t${p.entrega}\r\n\t\t\t${p.imagenes()}\r\n\t\t\t${p.descripcion()}\r\n\t\t\t${p.tallas()}\r\n\t\t\t${p.url}\r\n\t\t\t${p.valoracion}\r\n\t\t\t${p.categoria}\r\n\t\t\t${p.comentario.cantidad()}\r\n\t\t\t${p.comentario.comentarios()}\r\n\t\t\t*/\r\n\r\n\t\t\tconst p = {\r\n\t\t\t\tid: resumen[0],\r\n\t\t\t\tnombre: resumen[1].replaceAll(\"SHEIN \", \"\"),\r\n\t\t\t\tprecio: () => {\r\n\t\t\t\t\t// return precioMeli( resumen[2] );\r\n\t\t\t\t\treturn (Number(resumen[2])).toLocaleString(\"es-CL\");\r\n\t\t\t\t},\r\n\t\t\t\tfechaentrega: resumen[3],\r\n\t\t\t\timagen: {\r\n\t\t\t\t\tprincipal: resumen[4].split(\",//\")[0],\r\n\t\t\t\t\ttodas: () => {\r\n\t\t\t\t\t\tconst arrtodas = [];\r\n\t\t\t\t\t\tconst todas = resumen[4].replaceAll(\"//\", \"\");\r\n\t\t\t\t\t\tconsole.debug( resumen[4] );\r\n\t\t\t\t\t\tfor ( let count = 0; count <= todas.split(\",//\").length - 2; count++ ) {\r\n\t\t\t\t\t\t\t// imagen.split(\"_thumbnail\")[0].split(\"/\")[imagen.split(\"_thumbnail\")[0].split(\"/\").length - 1]\r\n\t\t\t\t\t\t\tconst laimagen = todas.split(\",//\")[count];\r\n\t\t\t\t\t\t\tconst elid = laimagen.split(\"_thumbnail\")[0].split(\"/\")[laimagen.split(\"_thumbnail\")[0].split(\"/\").length - 1];\r\n\t\t\t\t\t\t\tarrtodas.push({ laid: elid, imagen: laimagen });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn arrtodas;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\ttodo.push({\r\n\t\t\t\tid: p.id, nombre: p.nombre, precio: p.precio(), fechaentrega: p.fechaentrega, imagenprincipal: p.imagen.principal, imagenes: p.imagen.todas(),\r\n\t\t\t});\r\n\t\t\tsetDetalle( todo );\r\n\t\t});\r\n\t}, [id]);\r\n\r\n\tif ( detalle ) {\r\n\t\tconst res = detalle[0];\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>{res.nombre} || { NOMBRETIENDA }</title>\r\n\t\t\t\t\t<meta property=\"og:image\" content={res.imagenprincipal} />\r\n\t\t\t\t\t<meta property=\"twitter:image\" content={res.imagenprincipal} />\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<section key={res.id} id=\"detalle\">\r\n\t\t\t\t\t<h2>{res.nombre}</h2>\r\n\t\t\t\t\t<img src={res.imagenprincipal} alt={res.nombre} />\r\n\t\t\t\t\t<p className=\"precio\">$ {res.precio}</p>\r\n\t\t\t\t\t<p>{res.fechaentrega}</p>\r\n\t\t\t\t\t{console.debug(res.imagenes)}\r\n\t\t\t\t\t{ res.imagenes?.map(({ laid, imagen }) => {\r\n\t\t\t\t\t\tconsole.debug( `laid: ${laid}` );\r\n\t\t\t\t\t\tconsole.debug( `laimagen: ${imagen}` );\r\n\t\t\t\t\t\t// const elid = res.imagenes[id];\r\n\t\t\t\t\t\t// console.debug(`elid: ${elid}`);\r\n\t\t\t\t\t\treturn (<img key={laid} src={imagen} alt=\"nada\" />);\r\n\t\t\t\t\t}) }\r\n\t\t\t\t\t{/* <div className=\"imagenes\">{res.imagenes}</div> */}\r\n\t\t\t\t\t{/* { res.imagenes?.map((imagen) => {\r\n\t\t\t\t\t\tconst elid = imagen.split(\"_thumbnail\")[0].split(\"/\")[imagen.split(\"_thumbnail\")[0].split(\"/\").length - 1];\r\n\t\t\t\t\t\tconsole.debug(`elid: ${elid}`);\r\n\t\t\t\t\t\treturn (<img key={elid} src={imagen} alt=\"nada\" />);\r\n\t\t\t\t\t}) } */}\r\n\t\t\t\t</section>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\treturn (<Loading />);\r\n}\r\nexport default Detalle;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}